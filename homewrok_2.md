
# №2 PostgreSQL «ACID, MVCC, буферный кэш»


1. открыть консоль и зайти по ssh на ВМ
2. открыть вторую консоль и также зайти по ssh на ту же ВМ (можно в докере 2 сеанса)
3. запустить везде psql из под пользователя postgres
4. сделать в первой сессии новую таблицу и наполнить ее данными
5. посмотреть текущий уровень изоляции: (read committed)
6. начать новую транзакцию в обеих сессиях с дефолтным (не меняя) уровнем
   изоляции
7. в первой сессии добавить новую запись
8. сделать запрос на выбор всех записей во второй сессии
9. видите ли вы новую запись и если да то почему? После задания можете сверить
   правильный ответ с эталонным (будет доступен после 3 лекции)
### Нет не вижу -  
```В транзакции, работающей на этом уровне, запрос SELECT (без предложения FOR UPDATE/SHARE) видит только те данные, которые были зафиксированы до начала запроса;``` 
```он никогда не увидит незафиксированных данных или изменений, внесённых в процессе выполнения запроса параллельными транзакциями.```

10. завершить транзакцию в первом окне
11. сделать запрос на выбор всех записей второй сессии
12. видите ли вы новую запись и если да то почему?

### Да вижу -
``` Первая транзакция закончила работу с данными и зафиксировала их, другие транзакции могут видеть эти данные на уровне read committed```

13. завершите транзакцию во второй сессии
14. начать новые транзакции, но уже на уровне repeatable read в ОБЕИХ сессиях
15. в первой сессии добавить новую запись
16. сделать запрос на выбор всех записей во второй сессии
17. видите ли вы новую запись и если да то почему?

### Нет не вижу -
```В транзакции, на уровне repeatable read видно только изменения зафиксированные до начала транзакции.```

18. завершить транзакцию в первом окне
19. сделать запрос во выбор всех записей второй сессии
20. видите ли вы новую запись и если да то почему?

### Нет не вижу -
```В транзакции, на уровне repeatable read не видно изменений зафиксированных после начала транзакции. ```
